getwd()
setwd  ("C:/Users/thoma/Desktop/Cross Val Project/Test Stuff/surveyCV/surveyCV/R")
setwd  ("C:/Users/thoma/Desktop/Cross Val Project/Test Stuff/surveyCV/surveyCV")
document()
library(devtools)
library(roxygen2)
document()
document()
?import
document()
setwd  ("C:/Users/thoma/Desktop/Cross Val Project/Test Stuff/surveyCV/surveyCV/R")
document()
setwd  ("C:/Users/thoma/Desktop/Cross Val Project/Test Stuff/surveyCV/surveyCV/man")
document()
setwd  ("C:/Users/thoma/Desktop/Cross Val Project/Test Stuff/surveyCV/surveyCV/R")
document()
document()
getwd()
document()
library(devtools)
library(roxygen2)
document()
document()
library(devtools)
library(roxygen2)
document()
devtools::use_vignette("my-vignette")
use_vignette("intro")
devtools::load_all(".")
cv.gen.lm(Auto, c("mpg~poly(horsepower,1, raw = TRUE)", "mpg~poly(horsepower,2, raw = TRUE)"), nfolds = 10, "year", 400)
cv.gen.lm(Auto, c("mpg~poly(horsepower,1, raw = TRUE)", "mpg~poly(horsepower,2, raw = TRUE)"), nfolds = 10, "year", N = 400)
library(ISLR)
cv.gen.lm(Auto, c("mpg~poly(horsepower,1, raw = TRUE)", "mpg~poly(horsepower,2, raw = TRUE)"), nfolds = 10, "year", N = 400)
document()
library(devtools)
library(roxygen2)
setwd("C:/Users/thoma/Desktop/Cross Val Project/Test Stuff/surveyCV/surveyCV")
document()
devtools::load_all(".")
cv.gen.lm(Auto, c("mpg~poly(horsepower,1, raw = TRUE)", "mpg~poly(horsepower,2, raw = TRUE)"), nfolds = 10, "year", N = 400)
document()
devtools::load_all(".")
cv.gen.lm(Auto, c("mpg~poly(horsepower,1, raw = TRUE)", "mpg~poly(horsepower,2, raw = TRUE)"), nfolds = 10, stataID = "year", N = 400)
cv.gen.lm(Auto, c("mpg~poly(horsepower,1, raw = TRUE)", "mpg~poly(horsepower,2, raw = TRUE)"), nfolds = 10, strataID = "year", N = 400)
cv.strat.lm(Auto, c("mpg~poly(horsepower,1, raw = TRUE)", "mpg~poly(horsepower,2, raw = TRUE)"), nfolds = 10, strataID = "year", N = 400)
document()
devtools::load_all(".")
cv.gen.lm(Auto, c("mpg~poly(horsepower,1, raw = TRUE)", "mpg~poly(horsepower,2, raw = TRUE)"), nfolds = 10, strataID = "year", N = 400)
cv.gen.lm(Auto, c("mpg~poly(horsepower,1, raw = TRUE)", "mpg~poly(horsepower,2, raw = TRUE)"), nfolds = 10, clusterID = "year", N = 400)
cv.clus.lm(Auto, c("mpg~poly(horsepower,1, raw = TRUE)", "mpg~poly(horsepower,2, raw = TRUE)"), nfolds = 10, clusterID = "year", N = 400)
cv.cluster.lm(Auto, c("mpg~poly(horsepower,1, raw = TRUE)", "mpg~poly(horsepower,2, raw = TRUE)"), nfolds = 10, clusterID = "year", N = 400)
cv.gen.lm(Auto, c("mpg~poly(horsepower,1, raw = TRUE)", "mpg~poly(horsepower,2, raw = TRUE)"), nfolds = 10, N = 400)
setwd("~/Desktop/surveyCV")
install.packages(c("devtools", "roxygen2"))
library(devtools)
library(roxygen2)
document()
library(surveyCV)
NSFG_data <- read.csv("data-raw/NSFG_data.csv")
View(NSFG_data)
plot(NSFG_data$eduCat)
boxplot(NSFG_data$eduCat)
library(dplyr)
NSFG_data %>%
count(eduCat)
HSNSFG <- NSFG_data[NSFG_data$eduCat=="HS or GED"]
HSNSFG <- NSFG_data[NSFG_data$eduCat=="HS or GED",]
View(HSNSFG)
HSNSFG %>%
count(SECU)
HSNSFG %>%
count(strata)
cv.svy(HSNSFG,"income~ns(YrEdu, df = 5)", nfolds = 4, strataID = "strata", clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = TRUE)
library(surveyCV)
cv.svy(HSNSFG,"income~ns(YrEdu, df = 5)", nfolds = 4, strataID = "strata", clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = TRUE)
library(splines)
cv.svy(HSNSFG,"income~ns(YrEdu, df = 5)", nfolds = 4, strataID = "strata", clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = TRUE)
#there were abot 1500 in HS or GED so I chose that one
HSNSFG <- NSFG_data[NSFG_data$eduCat=="HS or GED",]
HSNSFG %>%
count(SECU)
HSNSFG %>%
count(strata)
cv.svy(HSNSFG,"income~ns(YrEdu, df = 5)", nfolds = 4, strataID = "strata", clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = TRUE)
View(HSNSFG)
S
cv.svy(HSNSFG, "income~race", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = FALSE)
cv.svy(HSNSFG, "income~race", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = TRUE)
cv.svy(HSNSFG, "income~ns(race, df = 4)", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = FALSE)
cv.svy(HSNSFG, "race~ns(income, df = 4)", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = FALSE)
cv.svy(HSNSFG, "income~race:YrEdu", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = FALSE)
cv.svy(HSNSFG, "income~race:YrEdu", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = TRUE)
cv.svy(HSNSFG, "income~race:YrEdu:BMI", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = FALSE)
cv.svy(HSNSFG, "income~race:YrEdu:BMI", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = TRUE)
cv.svy(HSNSFG, "income~race:YrEdu", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = TRUE)
cv.svy(HSNSFG, "income~race:YrEdu", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = FALSE)
cv.svy(HSNSFG, "income~race:YrEdu", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = FALSE)
cv.svy(HSNSFG, "income~race:YrEdu", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = TRUE)
cv.svy(HSNSFG, "income~race:BMI", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = FALSE)
cv.svy(HSNSFG, "income~race:BMI", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = TRUE)
cv.svy(HSNSFG, "PreMe~race:YrEdu:income", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = FALSE)
cv.svy(HSNSFG, "PreMe~race:YrEdu:income", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = FALSE, method = "logistic")
HSNSFG$PreMeInd <- 0
HSNSFG$PreMeInd[HSNSFG$PreMe == "Term"] <- 1
cv.svy(HSNSFG, "PreMeInd~race:YrEdu:income", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = FALSE, method = "logistic")
cv.svy(HSNSFG, "PreMeInd~race:YrEdu:income", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = TRUE, method = "logistic")
cv.svy(HSNSFG, "PreMeInd~race:income", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = FALSE, method = "logistic")
cv.svy(HSNSFG, "PreMeInd~race:income", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = TRUE, method = "logistic")
cv.svy(HSNSFG, "PreMeInd~race:income:Wnated", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = FALSE, method = "logistic")
cv.svy(HSNSFG, "PreMeInd~race:income:Wnated", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = FALSE, method = "logistic")
cv.svy(HSNSFG, "PreMeInd~race:income", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = TRUE, method = "logistic")
cv.svy(HSNSFG, "PreMeInd~race:income:Wanted", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = FALSE, method = "logistic")
cv.svy(HSNSFG, "PreMeInd~race:income:Wanted", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = TRUE, method = "logistic")
cv.svy(HSNSFG, "PreMeInd~race:income:Wanted:LBW", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = FALSE, method = "logistic")
cv.svy(HSNSFG, "PreMeInd~race:income:Wanted", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 2500, afolds = FALSE, method = "logistic")
cv.svy(HSNSFG, "PreMeInd~race:income:Wanted", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 2500, afolds = TRUE, method = "logistic")
cv.svy(HSNSFG, "PreMeInd~race:income:Wanted", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = FALSE, method = "logistic")
cv.svy(HSNSFG, "PreMeInd~race:income:Wanted", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = TRUE, method = "logistic")
cv.svy(HSNSFG, "PreMeInd~race:income:Wanted", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = FALSE, method = "logistic")
cv.svy(HSNSFG, "PreMeInd~race:income:Wanted", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = TRUE, method = "logistic")
#cole tried breakdown by race so I'm trying eduCat
NSFG_data %>%
count(eduCat)
SCNSFG <-NSFG_data[NSFG_data$eduCat=="Some college",]
SCNSFG <-NSFG_data[NSFG_data$eduCat=="Some college",]
cv.svy(SCNSFG, "income~race:YrEdu", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = FALSE)
cv.svy(SCNSFG, "income~race:YrEdu", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = TRUE)
cv.svy(SCNSFG, "income~race:BMI", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = FALSE)
cv.svy(SCNSFG, "income~race:BMI", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = TRUE)
SCNSFG$PreMeInd <- 0
SCNSFG$PreMeInd[HSNSFG$PreMe == "Term"] <- 1
SCNSFG$PreMeInd[SCNSFG$PreMe == "Term"] <- 1
cv.svy(SCNSFG, "PreMeInd~race:income:Wanted", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = FALSE, method = "logistic")
cv.svy(SCNSFG, "PreMeInd~race:income:Wanted", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = TRUE, method = "logistic")
cv.svy(SCNSFG, "income~race:YrEdu", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = FALSE)
cv.svy(SCNSFG, "income~race:YrEdu", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = TRUE)
cv.svy(SCNSFG, "income~race:YrEdu", nfolds = 2, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = FALSE)
cv.svy(SCNSFG, "income~race:YrEdu", nfolds = 2, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = TRUE)
#cole tried breakdown by race so I'm trying eduCat
NSFG_data %>%
count(eduCat)
BNSFG <-NSFG_data[NSFG_data$eduCat=="Bachelors",]
cv.svy(BNSFG, "income~race:YrEdu", nfolds = 2, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = FALSE)
cv.svy(BNSFG, "income~race:YrEdu", nfolds = 2, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = TRUE)
cv.svy(BNSFG, "income~race:BMI", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = FALSE)
cv.svy(BNSFG, "income~race:BMI", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = TRUE)
BNSFG$PreMeInd <- 0
BNSFG$PreMeInd[SCNSFG$PreMe == "Term"] <- 1
BNSFG$PreMeInd[BNSFG$PreMe == "Term"] <- 1
cv.svy(BNSFG, "PreMeInd~race:income:Wanted", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = FALSE, method = "logistic")
cv.svy(BNSFG, "PreMeInd~race:income:Wanted", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = TRUE, method = "logistic")
cv.svy(BNSFG, "PreMeInd~race:income:Wanted", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = FALSE, method = "logistic")
cv.svy(BNSFG, "PreMeInd~race:income:Wanted", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = TRUE, method = "logistic")
cv.svy(BNSFG, "PreMeInd~race:income", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = FALSE, method = "logistic")
cv.svy(BNSFG, "PreMeInd~race:income", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = TRUE, method = "logistic")
cv.svy(BNSFG, "PreMeInd~race:income:Wanted", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = FALSE, method = "logistic")
cv.svy(BNSFG, "PreMeInd~race:income:Wanted", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = TRUE, method = "logistic")
cv.svy(BNSFG, "PreMeInd~race:income:Wanted", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = FALSE, method = "logistic")
cv.svy(BNSFG, "PreMeInd~race:income:Wanted", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = TRUE, method = "logistic")
cv.svy(BNSFG, "PreMeInd~race+income+Wanted", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = FALSE, method = "logistic")
cv.svy(BNSFG, "PreMeInd~race+income+Wanted", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = TRUE, method = "logistic")
cv.svy(BNSFG, "PreMeInd~race+income+Wanted", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = FALSE, method = "logistic")
cv.svy(BNSFG, "PreMeInd~race+income+Wanted", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = TRUE, method = "logistic")
cv.svy(BNSFG, "PreMeInd~race+income+Wanted", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = FALSE, method = "logistic")
cv.svy(BNSFG, "PreMeInd~race+income+Wanted", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = TRUE, method = "logistic")
cv.svy(BNSFG, "PreMeInd~race+income+Wanted", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = FALSE, method = "logistic")
cv.svy(BNSFG, "PreMeInd~race+income+Wanted", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = TRUE, method = "logistic")
cv.svy(BNSFG, "PreMeInd~race+income+Wanted", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = FALSE, method = "logistic")
cv.svy(BNSFG, "PreMeInd~race+income+Wanted", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = TRUE, method = "logistic")
cv.svy(BNSFG, "PreMeInd~race+income+Wanted", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = FALSE, method = "logistic")
cv.svy(BNSFG, "PreMeInd~race+income+Wanted", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = TRUE, method = "logistic")
cv.svy(BNSFG, "PreMeInd~race+income+Wanted", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = FALSE, method = "logistic")
cv.svy(BNSFG, "PreMeInd~race+income+Wanted", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = TRUE, method = "logistic")
cv.svy(HSNSFG, "income~race+YrEdu", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = FALSE)
cv.svy(HSNSFG, "income~race+YrEdu", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = TRUE)
cv.svy(HSNSFG, "income~race+BMI", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = FALSE)
cv.svy(HSNSFG, "income~race+BMI", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = TRUE)
HSNSFG$PreMeInd <- 0
cv.svy(HSNSFG, "PreMeInd~race+income+Wanted", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = FALSE, method = "logistic")
cv.svy(HSNSFG, "PreMeInd~race+income+Wanted", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = TRUE, method = "logistic")
cv.svy(HSNSFG, "PreMeInd~race+income+Wanted", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = FALSE, method = "logistic")
cv.svy(HSNSFG, "PreMeInd~race+income+Wanted", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = TRUE, method = "logistic")
cv.svy(HSNSFG, "PreMeInd~race+income+Wanted", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 2500, afolds = FALSE, method = "logistic")
cv.svy(HSNSFG, "PreMeInd~race+income+Wanted", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 2500, afolds = TRUE, method = "logistic")
cv.svy(HSNSFG, "PreMeInd~race+income+Wanted", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = FALSE, method = "logistic")
cv.svy(HSNSFG, "PreMeInd~race+income+Wanted", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = TRUE, method = "logistic")
BNSFG$PreMeInd[BNSFG$PreMe == "Term"] <- 1
cv.svy(BNSFG, "PreMeInd~race+income+Wanted", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = FALSE, method = "logistic")
cv.svy(BNSFG, "PreMeInd~race+income+Wanted", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = TRUE, method = "logistic")
cv.svy(HSNSFG, "income~race+YrEdu", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 2000, afolds = FALSE)
cv.svy(HSNSFG, "income~race+YrEdu", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 2000, afolds = TRUE)
cv.svy(HSNSFG, "income~race+BMI", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = FALSE)
cv.svy(HSNSFG, "income~race+BMI", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = TRUE)
cv.svy(HSNSFG, "PreMeInd~race+income+Wanted", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = FALSE, method = "logistic")
cv.svy(HSNSFG, "PreMeInd~race+income+Wanted", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = TRUE, method = "logistic")
cv.svy(HSNSFG, "PreMeInd~race+income+Wanted", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 2500, afolds = FALSE, method = "logistic")
cv.svy(HSNSFG, "PreMeInd~race+income+Wanted", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 2500, afolds = TRUE, method = "logistic")
cv.svy(BNSFG, "PreMeInd~race+income+Wanted", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = FALSE, method = "logistic")
cv.svy(BNSFG, "PreMeInd~race+income+Wanted", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = TRUE, method = "logistic")
BSNSFG <-NSFG_data[NSFG_data$eduCat=="Bachelors",]
BSNSFG$PreMeInd <- 0
BSNSFG$PreMeInd[BNSFG$PreMe == "Term"] <- 1
BSNSFG$PreMeInd[BNSFG$PreMe == "Term"] <- 1
cv.svy(BSNSFG, "income~race+YrEdu", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = FALSE)
cv.svy(BSNSFG, "income~race+YrEdu", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = TRUE)
cv.svy(BSNSFG, "income~race+BMI", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = FALSE)
cv.svy(BSNSFG, "income~race+BMI", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = TRUE)
cv.svy(BSNSFG, "income~race+BMI", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = FALSE)
cv.svy(BSNSFG, "income~race+BMI", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = TRUE)
cv.svy(BSNSFG, "PreMeInd~race+income+Wanted", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = FALSE, method = "logistic")
cv.svy(BSNSFG, "PreMeInd~race+income+Wanted", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = TRUE, method = "logistic")
cv.svy(BSNSFG, "PreMeInd~race+income+Wanted", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 2500, afolds = FALSE, method = "logistic")
cv.svy(BSNSFG, "PreMeInd~race+income+Wanted", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 2500, afolds = TRUE, method = "logistic")
#cole tried breakdown by race so I'm trying eduCat
NSFG_data %>%
count(eduCat)
#lets try a different breakdown
LHSNSFG <-NSFG_data[NSFG_data$eduCat=="<HS",]
cv.svy(LHSNSFG, "income~race+YrEdu", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = FALSE)
cv.svy(LHSNSFG, "income~race+YrEdu", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = TRUE)
cv.svy(LHSNSFG, "income~race+YrEdu", nfolds = 2, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = FALSE)
cv.svy(LHSNSFG, "income~race+YrEdu", nfolds = 2, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = TRUE)
cv.svy(LHSNSFG, "income~race+BMI", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = FALSE)
cv.svy(LHSNSFG, "income~race+BMI", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = TRUE)
cv.svy(LHSNSFG, "income~race+BMI", nfolds = 2, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = FALSE)
cv.svy(LHSNSFG, "income~race+BMI", nfolds = 2, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = TRUE)
LHSNSFG$PreMeInd <- 0
LHSNSFG$PreMeInd[HSNSFG$PreMe == "Term"] <- 1
LHSNSFG$PreMeInd <- 0
LHSNSFG$PreMeInd[LHSNSFG$PreMe == "Term"] <- 1
cv.svy(LHSNSFG, "PreMeInd~race+income+Wanted", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = FALSE, method = "logistic")
cv.svy(LHSNSFG, "PreMeInd~race+income+Wanted", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = TRUE, method = "logistic")
cv.svy(LHSNSFG, "PreMeInd~race+income+Wanted", nfolds = 2, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = FALSE, method = "logistic")
cv.svy(LHSNSFG, "PreMeInd~race+income+Wanted", nfolds = 2, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = TRUE, method = "logistic")
#lets try a different breakdown
SCNSFG <-NSFG_data[NSFG_data$eduCat=="Some college",]
cv.svy(SCNSFG, "income~race+YrEdu", nfolds = 2, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = FALSE)
cv.svy(SCNSFG, "income~race+YrEdu", nfolds = 2, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = TRUE)
cv.svy(HSNSFG, "income~race+YrEdu", nfolds = 4, nest = TRUE, weights = "wgt", N = 5100)
cv.svy(HSNSFG, "income~race+YrEdu", nfolds = 4, nest = TRUE, weights = "wgt", N = 5100)
devtools::load_all(".")
library(surveyCV)
cv.svy(HSNSFG, "income~race+YrEdu", nfolds = 4, nest = TRUE, weights = "wgt", N = 5100)
cv.svy(HSNSFG, "income~race+YrEdu", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = TRUE)
cv.svy(HSNSFG, "income~race+BMI", nfolds = 4, nest = TRUE, weights = "wgt", N = 5100)
cv.svy(HSNSFG, "income~race+BMI", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = TRUE)
HSNSFG$PreMeInd <- 0
HSNSFG$PreMeInd[HSNSFG$PreMe == "Term"] <- 1
cv.svy(HSNSFG, "PreMeInd~race+income+Wanted", nfolds = 4, nest = TRUE, weights = "wgt", N = 5100, afolds = FALSE, method = "logistic")
cv.svy(HSNSFG, "PreMeInd~race+income+Wanted", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = TRUE, method = "logistic")
cv.svy(HSNSFG, "PreMeInd~race+income+Wanted", nfolds = 4, nest = TRUE, weights = "wgt", N = 2500, afolds = FALSE, method = "logistic")
cv.svy(HSNSFG, "PreMeInd~race+income+Wanted", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 2500, afolds = TRUE, method = "logistic")
cv.svy(HSNSFG, "PreMeInd~race+income+Wanted", nfolds = 4, weights = "wgt", N = 2500, afolds = FALSE, method = "logistic")
cv.svy(HSNSFG, "PreMeInd~race+income+Wanted", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 2500, afolds = TRUE, method = "logistic")
BSNSFG <-NSFG_data[NSFG_data$eduCat=="Bachelors",]
BSNSFG$PreMeInd <- 0
BSNSFG$PreMeInd[BNSFG$PreMe == "Term"] <- 1
cv.svy(BSNSFG, "income~race+YrEdu", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = FALSE)
cv.svy(BSNSFG, "income~race+YrEdu", nfolds = 4, nest = TRUE, weights = "wgt", N = 5100, afolds = FALSE)
cv.svy(BSNSFG, "income~race+YrEdu", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = TRUE)
cv.svy(BSNSFG, "income~race+BMI", nfolds = 4, nest = TRUE, weights = "wgt", N = 5100, afolds = FALSE)
cv.svy(BSNSFG, "income~race+BMI", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = TRUE)
cv.svy(BSNSFG, "PreMeInd~race+income+Wanted", nfolds = 4, nest = TRUE, weights = "wgt", N = 5100, afolds = FALSE, method = "logistic")
cv.svy(BSNSFG, "PreMeInd~race+income+Wanted", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 5100, afolds = TRUE, method = "logistic")
#lets try a different breakdown
SCNSFG <-NSFG_data[NSFG_data$eduCat=="Some college",]
library(dplyr)
NSFG_hispanic <- NSFG_data %>%
filter(race == "Hispanic")
cv.svy(NSFG_hispanic, "income~ns(YrEdu, df = 5)", nfolds = 4, nest = TRUE, weights = "wgt", N = 1250, afolds = FALSE)
library(splines)
cv.svy(NSFG_hispanic, "income~ns(YrEdu, df = 5)", nfolds = 4, nest = TRUE, weights = "wgt", N = 1250, afolds = FALSE)
cv.svy(NSFG_hispanic, "income~ns(YrEdu, df = 5)", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 1250, afolds = TRUE)
cv.svy(NSFG_hispanic, "income~race", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 1250, afolds = FALSE)
cv.svy(NSFG_hispanic, "income~race", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 1250, afolds = TRUE)
cv.svy(NSFG_hispanic, "income~race", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 1250, afolds = FALSE)
cv.svy(NSFG_hispanic, "income~race", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 1250, afolds = TRUE)
cv.svy(NSFG_hispanic, "income~race", nfolds = 4, nest = TRUE, weights = "wgt", N = 1250, afolds = FALSE)
cv.svy(NSFG_hispanic, "income~race", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 1250, afolds = TRUE)
cv.svy(NSFG_hispanic, "income~race", nfolds = 2, nest = TRUE, weights = "wgt", N = 1250, afolds = FALSE)
cv.svy(NSFG_hispanic, "income~race", nfolds = 2, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 1250, afolds = TRUE)
NSFG_black <- NSFG_data %>%
filter(race == "Black")
cv.svy(NSFG_black, "income~ns(YrEdu, df = 5)", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 1250, afolds = FALSE)
cv.svy(NSFG_black, "income~ns(YrEdu, df = 5)", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 1250, afolds = TRUE)
cv.svy(NSFG_black, "income~race", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 1250, afolds = FALSE)
cv.svy(NSFG_black, "income~race", nfolds = 4, strataID = "strata",
clusterID = "SECU", nest = TRUE, weights = "wgt", N = 1250, afolds = TRUE)
